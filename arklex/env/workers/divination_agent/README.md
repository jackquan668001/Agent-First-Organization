# 易经占卜Agent

基于LangChain和OpenAI实现的易经占卜Agent，可以通过数字生成卦象并提供解释。

## 功能特点

1. **自动摇卦**：自动生成六位数字，模拟传统的摇卦过程
2. **手动输入**：支持用户手动输入六位数字
3. **卦象转换**：将数字转换为六爻（阴/阳）和对应的卦象
4. **卦变生成**：根据输入数字生成变卦
5. **多方向解析**：支持多种问事方向（出行运、感情运、事业运、学业运）
6. **智能解释**：利用OpenAI生成针对性的卦象解释

## 安装方法

### 前提条件

- Python 3.7+
- OpenAI API密钥

### 安装步骤

1. 克隆或下载本仓库

2. 安装依赖包

```bash
pip install -r requirements.txt
```

3. 设置OpenAI API密钥（可选，也可以在运行时提供）

```bash
export OPENAI_API_KEY="your-api-key"
```

## 使用方法

### 命令行使用

```bash
# 自动摇卦并解析出行运
python main.py

# 使用指定的六位数字
python main.py --numbers 385962

# 指定问事方向
python main.py --query "感情运"

# 同时指定数字和问事方向
python main.py --numbers 385962 --query "事业运"

# 提供API密钥
python main.py --api_key "your-api-key"
```

### 交互式使用

如果不提供命令行参数，程序会进入交互模式，引导用户选择摇卦方式和问事方向。

## 输出示例

```
🔢 本卦：坎为水（卦序29）
🔁 变卦：水雷屯（卦序3）

📖 卦辞："习坎，有孚，维心亨，行有尚。"
🗣 象曰："水洊至，习坎；君子以常德行，习教事。"

🎯 你问的是"出行运"：
📌 建议：今日出行需多留意道路与水路状况，宜缓不宜急。午后运势转顺。
🪷 今日感应签：山重水复疑无路，柳暗花明又一村。
```

## 项目结构

- `divination_agent.py`: 易经占卜Agent的核心实现
- `main.py`: 命令行接口
- `requirements.txt`: 依赖包列表

## 注意事项

- 本项目需要OpenAI API密钥才能运行
- 占卜结果仅供娱乐参考，请勿过度依赖
- 使用API时会产生费用，请注意控制使用频率